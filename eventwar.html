<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>Towny Advanced - Event War</title>
  <meta name="description" content="Event War guide.">
  <meta name="author" content="LlmDl">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Oxygen:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" href="images/favicon.ico">

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
	<div class="row" style="margin-top: 2%; padding:10px">
	  <div class="two-thirds column" style="margin-top: 5%; align:left">
	  	<h3>Towny Advanced Portal</h3>
	  </div>
	  <div class="one-third column" style="margin-top: 5%; align:right">
		<a href="index.html"><img src="images/townyicon.png" align=right style="border-radius:10px"></a>
	  </div>
	</div>
	<hr>
	<div class="row">
	  <div class="twelve columns" style="border-radius:10px">
		<h3>> <a href="wars.html">War Hub</a> \ Event War</h3>
	  </div>
	</div>
	<div class="row">
	  <div class="five columns" style="background-color:#f2f2f2; border-radius:10px; padding:10px">
	  	<h4>Prerequisites:</h4>
			<ul>
				<li>Towny 0.100.1.0 or newer.</li>
			</ul>
	  </div>
	  <div class="seven columns" style="background-color:#f2f2f2; border-radius:10px; padding:10px">
		<p><b>Current Status:</b> A separate EventWar.jar available to people who <a href=https://github.com/sponsors/LlmDl>Sponsor LlmDl</a>.</p>
		<p><b>Old EventWar:</b> <a href="oldeventwar.html">For the EventWar included in Towny versions older than 0.97.3.0 please review the legacy documentation.</a></p>
	  </div>
	</div>	
	<div class="row" style="margin-top: 2%;">
	  <div class="twelve columns">
		<div style="background-color:#f2f2f2; border-radius:10px; padding:10px; margin-bottom: 5%">
			
			<center><h5>Introduction/Game-play:</h5></center>
			<div style="padding:20px;">
				The new Event War is a hyper-configurable system supporting 7 basic war types:
				<div style="padding:10px;">
					<ul>
						<li>Riot - One town fighting amongst itself. Players side with the city or the rioters via team selection.</li> 
						<li>Town vs Town - Two towns fight against each other.</li>
						<li>Civil War - One nation fighting amongst itself. Towns side with the capital or the rebels via team selection.</li>
						<li>Independence War - A war in which a conquered Town fights its own nation for freedom. The town which initiates the war will trigger a team-selection for the other non-capital towns. Towns which side with the rebels will also leave their nation if the rebels win. If the rebels lose all of the rebel towns become conquered.</li>
						<li>Nation vs Nation - Two nations fight against each other.</li>
						<li>Alliance vs Alliance - Two nations fight against each other, with both nations'  allies able to join the fight.</li>
						<li>World War - All nations with enemies will be thrown into war. Similar to the old EventWar.</li>
					</ul>
				</div>
				
				Wars are begun by an admin using <code>/ta war {wartype} ...</code> or via town-purchased Declaration of War books.<br><br>
				Declarations of War are purchased via Tokens using <code>/town redeem {wartype}</code>.<br><br>
				Tokens are earned by every non-neutral town each Towny newday. If a town is part of a nation that nation must not be neutral either. 
				Towns with an active war will also not receive war tokens.<br><br>
				EventWars can be configured to be just a simple game of PVP with no lasting consequences but hurt pride, or it can be configured to involve
				devastating griefing, and conquering of towns and nations. That's all up to the server.<br><br>
				
				<center><strong>You can see how your server is configured using the '/eventwar guide' command.</strong></center>
			</div> 
			<hr>
			<center><h5>Hyper-Configurable:</h5></center>
			<div style="padding:20px;">
				Each war type has the following configurable settings:
				<div style="padding:10px;">
					<ul>
						<li>Token Cost - How many tokens does a Declaration of War of this type cost. </li>
						<li>Base Spoils - How much money is put up for grabs to be won.</li>
						<li>Cooldown Time - How much time must pass since the towns' last war (of any type) before they can take part in a war of this type.</li>
						<li>Max Time Duration - An optional maximum duration for a war, in case no other win-conditions are met.</li>
						<li>Winning Score - An optional high score, that when reached will cause the war to end when reached.</li>
						<li>Surrender Allowed - Is surrendering allowed?</li>
						<li>Startup Delay - How much time before a war is begun, does the action start, for a war of this type.</li>
						<li>TownBlock HP - Whether a war of this type uses the TownBlock HP system. [Not applicable to Riot wars.]</li>
						<li>TownBlock Switch Towns - Whether a war of this type has TownBlocks that are dropped to 0HP switch to the conquering Towns. [Not applicable to Riot and Civil wars.]</li>
						<li>TownBlock Single Use - When TownBlock-Switch-Towns is true, determines whether a war of this type has TownBlocks which resurrect after a configurable amount of time, so that they can be re-conquered.. [Not applicable to Riot and Civil wars.]</li>
						<li>Resident Lives - How many lives does a resident get at the start of the war.</li>
						<li>Mayor Lives - How many lives does a mayor get at the start of the war.</li>
						<li>Mayor Death - If a mayor runs out of lives, does that remove their town from the war.</li>
						<li>Town Conquering - Does a war result in the winning side conquering the losing side. The outcome is different for each war type:</li>
						<ul>
							<li>Riot - If rioters win, their highest scorer will become the new mayor.</li>
							<li>Town vs Town - The losing town will be merged into the winning town.</li>
							<li>Civil War - If the rebels win, the highest scorer will become the new capital of the nation.</li>
							<li>Independence War - Does not use Town Conquering.</li>
							<li>Nation vs Nation - Towns which are knocked out of the war will join the conquering nation.</li>
							<li>Alliance vs Alliance - Towns which are knocked out of the war will join the conquering nation.</li>
							<li>World War - Towns which are knocked out of the war will join the conquering nation.</li>
						</ul>
						<li>Build & Destroy Editable Materials - Decides whether a war will allow the build/destroy of the WarZone Block Protection's editable_materials list.</li>
						<li>Switch Use - Decides if switches are enabled for the given war type.</li>
						<li>Item Use - Decides if item_use is enabled for the given war type.</li>
						<li>Points Per Kill - Decides how many points are given per kill.</li>
						<li>Neutrality Allowed - Whether neutral towns/nations are able to bypass a war.</li>
						<li>Minimum Online - A minimum number of people required to be online for the war type to begin.</li>
						<li>Minimum Online Ignores Low Pop - Whether the min-online is disabled when dealing with a low-pop town or nation which has 100% of its resident online.</li>
					</ul>
				</div>
					 
				Fire, Explosions can also be forced on in war-stricken towns.<br><br>
				Explosions can be made to revert, allowing for explosive wall-smashing, jail-breaking action that repairs itself after 60 seconds.<br><br>
				Points townblocks won, towns removed, and nations removed are all configurable.
			</div>
			<hr>
			<center><h5>Lore:</h5></center>
			<div style="padding:20px;">
				Event War is heavy in lore. Books are generated and given to players when wars start, when they end, and on every hour. 
				They act as a permanent record for your players to store in their town libraries and museums.<br><br>
				
				Start-of-War books detail who is involved in the war, the rules by which they are fought and the consequences of victory and failure. 
				Your warconfig.yml's settings determine what goes into the books.<br><br>
				
				Hourly update books show players who is still in the fight and where the scores stand.<br><br>
				
				End-of-War books finalize the outcomes of the war, informing players who has survived, providing for a historical document for the ages.	 
			</div>
			<hr>
			<center><h5>Declaration of War Books:</h5></center>
			<div style="padding:20px;">
				Declaration of War books are how players start wars. These books are purchased for Tokens using the <code>/town redeem</code> command.<br><br>
				By default riots DoW books cost the least, with the costs increasing as the scopes of the wars increase as well.<br><br>
				This means that riots and town wars will happen more often than civil wars, nation wars and world wars.<br><br>
				A town must be a part of a nation to redeem their tokens for civil war, nation war and world wars books.<br><br>
				An option exists in the warconfig: <code>are_declarations_of_war_usable_only_by_their_creators</code> which limits DoWs to only be used by the town which 
				purchased the book. When this is set to false, it is possible for towns to purchase DoW books and then give them to other towns. This means powerful
				nations can foment wars in other towns to destabilize them.<br><br>
				Declaration of War books are used by holding the book and using the <code>/declare war [wartype] [arg]</code> command, this is documented in the books themselves.
			</div>
			<hr>
			<center><h5>TownBlock HP Sytem:</h5></center>
			<div style="padding:20px;">
				When a war type has the TownBlockHP system enabled all of the townblocks in each warring town are given an HP amount. 
				By default normal townblocks have 60 and homeblocks have 120 hp.<br><br>
				HP is lowered when attackers are stood in the townblock, and the attackers outnumber any allies of the town being attacked.<br><br>
				Optionally, townblock HPs can be healed when the allies outnumber the attackers.<br><br>
				Townblocks must be attacked from the edge of town, inwards towards the town's homeblock.<br><br>
				When townblocks are attacked, fireworks appear in the air above.<br><br>
				There is a configurable minimum height that players must be in the world to be considered an attacker.<br><br>
				If a jail plot has its HP dropped to zero, all of the prisoners of war will be unjailed in a prison break, 
				and the jail will no longer be usable for the duration of the war.<br><br>
				If the War allows it, TownBlocks can switch Towns when they are dropped to 0hp. See the /eventwar guide [wartype] to
				learn if this is enabled on your server for TownWar, NationWar, AllianceWar or WorldWar. It is not available for Riots or CivilWars.<br><br>
				If the War allows it and TownBlocks-can-switch-Towns is true, TownBlocks which have switched sides can be re-conquered after a configurable period of time. 
				See the /eventwar guide [wartype] to learn if this is enabled on your server for TownWar, NationWar, AllianceWar or WorldWar. It is not available for Riots or CivilWars.
			</div>
			<hr>
			<center><h5>BattleSessions:</h5></center>
			<div style="padding:20px;">
				An optional system available in EventWar, BattleSessions are configurabled per-day-of-the-week, allowing for multiple start times
				after which fighting and scoring will count towards the server's wars.<br><br>
				While the BattleSession is inactive, scoring points will not occur, townblocks cannot have their HP damaged, and PVP kills will not
				count against the warring residents' available lives.<br><br>
				Players can see when the the current BattleSession will end or when the next BattleSession will begin by using `/eventwar battlesession`.<br><br>
				Players can turn on/off the BattleSession bossbar using the `/eventwar battlesession bossbar` command.
			</div>	
			<hr>
			<center><h5>Surrendering:</h5></center>
			<div style="padding:20px;">
				When a war type allows surrendering, players are able to decide if they can give up.<br><br>
				For Riot, CivilWar, IndependenceWar, and WorldWar types, the player uses /surrender.<br><br>
				Riots allow for anyone to surrender. CivilWar only allows a mayor to surrender their town. WorldWar only allows a king to surrender their nation.<br><br>
				If Riot wars have town conquering enabled, and the Mayor is the one surrendering, their Town will be taken over by the Rebel with the highest score.<br><br>
				If CivilWar has town conquering enabled, and the King is the one surrendering, the rebel Town with the highest score will become the new Capital.<br><br>
				If a Nation Leader surrenders a IndependenceWar, all of the rebelling towns will be freed from their nation.<br><br>
				For TownWar, NationWar and AllianceWar, it is more complicated. The town or nation that wishes to give in must create an offer.<br><br>
				This offer can be for a WhitePeace (nothing,) Money, Towns or Money & Towns combined. See '/surrender ?' for correct command syntax.<br><br>
				The offer is then sent to the mayor or king on the opposite side for their approval. 
				If accepted the war is over and any money or towns is exchanged.<br><br>
				In TownWars, the surrendering Town can only offer itself in surrender, to be merged into the victorious Town.<br><br>
				In NationWars, the surrendering Nation can offer itself or any of its Towns in surrender, to be conquered by the victorious Nation.<br><br>
				In AllianceWars, the surrendering Nation can offer itself or any of its Towns in surrender, to be conquered by the opposing primary Nation.
				If the surrendering nation is one of the two primary nations in an AllianceWar, the war will end following the acceptance of the surrender offer.
			</div>
			<hr>
			<center><h5>Jails and Prisoners of War:</h5></center>
			<div style="padding:20px;">
				EventWar makes generous use of the Towny Jail plots, players killed in enemy territory will be transferred to the town's primary jail 
				(falling back to other jails if the primary jail has lost its HP,) to live as a POW (prisoner-of-war.)<br><br>
				In riot wars, players are unjailed if they can leave the jail plot. In other war types they must exit the town's land.<br><br>
				Jailbreaks occur when a jail's HP is dropped to zero and all prisoners are freed.<br><br>
				While jailed, players are unable to score kills, lose their lives or damage townblock HP's.
			</div>	
			<hr>
			<center><h5>End conditions:</h5></center>
			<div style="padding:20px;">
				Wars can be ended by the following conditions:
				<div style="padding:10px;">
					<ul>
						<li>A Riot will be ended if:</li>
						<ul>
							<li>All of the surviving rioters are in Jail.</li>
							<li>All of the players on either side run out of lives</li>
							<li>The mayor is killed and mayordeath is enabled for riots.</li>
							<li>The mayor surrenders, or either side's remaining players surrender.</li>
						</ul>
						<li>A town can be knocked out of a war in the following ways:</li>
						<ul>
							<li>A town has its homeblock fall to 0hp (when the TownBlockHP system is enabled.)</li>
							<li>A mayor runs out of lives and the mayordeath option is enabled for the wartype.</li>
							<li>A towns' residents collectively lose all their lives.</li>
							<li>A town cannot pay the death costs because their town bank has no money (when using_economy is true.)</li>
							<li>A town makes a surrender offer which is accepted.</li>
						</ul>
						<li>A nation can be knocked out of a war in the following ways:</li>
						<ul>
							<li>A nation's king runs out of lives and mayordeath is enabled for the wartype.</li>
							<li>A nation's capital city is knocked out of the war.</li>
							<li>A nation's towns are all removed from the war.
							<li>A nation makes a surrender offer which is accepted.</li>
						</ul>
						<li>A alliance war will end if:</li> 
						<ul>
    						<li>All the nations on either side are removed from the war.</li>
    						<li>One of the primary nations makes a surrender offer which is accepted.</li>
						</ul>
						<li>A civil war or independence war will end if:</li> 
						<ul>
							<li>The capital city is removed from the war.</li>
							<li>All the towns on either side are removed from the war.</li>
							<li>The king surrenders, or either side's remaining towns surrender.</li>
						</ul>
						<li>A world war will end if:</li> 
						<ul>
							<li>There is only one Nation left, or all of the remaining Nations consider each other Allies.</li>
						</ul>
						<li>Each war type has an optional, configurable max-duration, to keep wars from going on indefinitely.</li>
						<li>Alternatively, each war type can end if there is a winning score configured:</li>
						<ul>
							<li>When a town (or resident in Riots,) hits the winning score, the war will end and they will be declared the winner.</li>
						</ul>
						<li>Alternatively, each war type can end if there is a maximum duration configured:</li>
						<ul>
							<li>When the war's maximum duration is reached, the town (or resident in Riots,) with the highest score will be declared the winner.</li>
						</ul>
					</ul>
				</div>
			</div>
			<hr>
			<center><h5>Commands:</h5></center>
			<div style="padding:20px;">
				<ul>
					<li><b>/eventwar</b></li>
					<ul>
						<li><b>/eventwar guide:</b> Opens a book for the player, explaining how EventWar works, based on your server's config settings.</li>
						<li><b>/eventwar guide riot:</b> Opens a book for the player, explaining riots.</li>
						<li><b>/eventwar guide townwar:</b> Opens a book for the player, explaining town vs town wars.</li>
						<li><b>/eventwar guide civilwar:</b> Opens a book for the player, explaining civil wars.</li>
						<li><b>/eventwar guide independencewar:</b> Opens a book for the player, explaining independence wars.</li>
						<li><b>/eventwar guide nationwar:</b> Opens a book for the player, explaining nation wars.</li>
						<li><b>/eventwar guide alliancewar:</b> Opens a book for the player, explaining alliance wars.</li>
						<li><b>/eventwar guide worldwar:</b> Opens a book for the player, explaining world wars.</li>
						<li><b>/eventwar guide conquering:</b> Opens a book for the player, explaining how conquering works.</li>
						<li><b>/eventwar guide townblocks:</b> Opens a book for the player, explaining how the TownBlock HP system works.</li>
						<li><b>/eventwar guide money:</b> Opens a book for the player, explaining how money affects wars.</li>
						<li><b>/eventwar guide winning:</b> Opens a book for the player, explaining how to win wars.</li>
						<li><b>/eventwar guide battlesession:</b> Opens a book for the player, explaining how battle sessions work.</li>
						<li><b>/eventwar guide points:</b> Opens a book for the player, explaining how points are scored.</li>
						<li><b>/eventwar guide jails:</b> Opens a book for the player, explaining how jails and PoWs work.</li>
						<li><b>/eventwar battlesession:</b> Shows players information about the current or next-scheduled battle session.</li>
						<li><b>/eventwar battlesession bossbar:</b> Allows the player to turn on or off the battle session boss bar.</li>
					</ul>
					<li><b>/towny war</b></li>
					<ul>
						<li><b>/towny war hud:</b> Opens a scoreboard for the player, which details points and properties of the townblock they are standing in.</li>
						<li><b>/towny war participants {page #}:</b> A list of towns and their nation who are in each on-going war. The list highlights enemies, allies and capital towns. 
						While war is in effect, each competing town has a health points property attached to it.</li>
						<li><b>/towny war stats:</b> Shows stats on the player's current war.</li>
						<li><b>/towny war scores:</b> Shows the scores of the player's current war.</li>
						<li><b>/towny war types:</b> Shows the settings of various war types (mainly for debugging now.)</li>
					</ul>
					<li><b>/town</b></li>
					<ul>
						<li><b>/town redeem {wartype}:</b> Used to purchase a Declaration of War of the given war type.</li> 
					</ul>
					<li><b>/nation</b></li>
					<ul>
						<li><b>/nation alliancewar request {allyname}:</b> The primary nations battling in an Alliance War can use this command to request their allies 
						join the war (when they are not already automatically added.)</li> 
					</ul>
					<li><b>/declare</b></li>
					<ul>
						<li><b>/declare rebel:</b> Used to side with the rioters/rebels in Riot, Civil and Independence Wars.</li>
						<li><b>/declare government:</b> Used to side with the city/capital in Riot, Civil and Independence Wars.</li>
						<li><b>/declare war {wartype} {args}:</b> Used while holding a Declaration of War book of the given war type, to start a war.</li> 
					</ul>
					<li><b>/surrender</b></li>
					<ul>
						<li><b>/surrender:</b> Used to surrender in Riots, Civil Wars, Independence Wars, and World Wars.</li>
						<li><b>/surrender money {amount}:</b> Used in Town, Nation and Alliance Wars to surrender for money.</li>
						<li><b>/surrender towns {town1 town2 town3}:</b> Used in Town, Nation and Alliance Wars to surrender for towns.</li>
						<li><b>/surrender money {amount} towns {town1 town2 town3}:</b> Used in Town, Nation and Alliance Wars to surrender for money and towns.</li> 
					</ul>
					<li><b>/townyadmin war</b></li>
					<ul>
						<li><b>/ta war riot [town]:</b> Used to start a riot in the given town.</li>
						<li><b>/ta war townwar [town] [town]:</b> Used to start a townwar between the given towns.</li>
						<li><b>/ta war civilwar [nation]:</b> Used to start a civilwar in the given nation.</li>
						<li><b>/ta war independencewar [town]:</b> Used to start a independencewar in the given town's nation. The given town will be the rebel leader.</li>
						<li><b>/ta war nationwar [nation] [nation]:</b> Used to start a nationwar between the given nations.</li>
						<li><b>/ta war alliancewar [nation] [nation]:</b> Used to start a alliancewar between the given nations, and their allies.</li>
						<li><b>/ta war worldwar:</b> Used to start a worldwar.</li>
						<li><b>/ta war endwar [warname]:</b> Used to end a war.</li>
						<li><b>/ta war tokens [townname] [add|remove|set] #:</b> admin command to manipulate a town's token count.</li>
						<li><b>/ta war list:</b> Lists all the active.</li>
						<li><b>/ta war purge:</b> Completely removes EventWar metadata from the Towny database and cleans out all EventWar war data.</li>
					</ul>
					<li><b>/townyadmin reload</b></li>
					<ul>
						<li><b>/ta reload eventwar:</b> Used to reload eventwar's config, languages and database.</li>
					</ul>
				</ul>
			</div>
			<hr>
			<center><h5>Permissions:</h5></center>
			<div style="padding:20px;">
			For the most part EventWar has no permissions you need to configure, but some things require towny.admin or op.<br><br>
			
			One node you must give to mayors (and other town ranks that are similar to mayors):
			<ul>
			<li><b>towny.command.town.redeem</b> - Used to redeem wartokens for Declaration of War books.
			</ul>
			
			There is one node locking away the use of /townyadmin war's sub-commands:<br><br>
			<ul>
				<li><b>eventwar.admin</b></li>
				<ul>
					<li>default: op</li>
					<li>child nodes:</li>
					<ul>
						<li><b> towny.command.townyadmin.war.worldwar</b></li>
						<li><b> towny.command.townyadmin.war.riot</b></li>
						<li><b> towny.command.townyadmin.war.townwar</b></li>
						<li><b> towny.command.townyadmin.war.civilwar</b></li>
						<li><b> towny.command.townyadmin.war.independencewar</b></li>
						<li><b> towny.command.townyadmin.war.nationwar</b></li>
						<li><b> towny.command.townyadmin.war.alliancewar</b></li>
						<li><b> towny.command.townyadmin.war.list</b></li>
						<li><b> towny.command.townyadmin.war.purge</b></li>
						<li><b> towny.command.townyadmin.war.endwar</b></li>
						<li><b> towny.command.townyadmin.war.tokens</b></li>
						<li><b> towny.command.townyadmin.war.givelife</b></li>
					</ul>
				</ul>
				</ul>
			</div>
			<hr>
			<center><h5>PlaceholderAPI Placeholders:</h5></center>
			<div style="padding:20px;">
				<ul>
					<li>%eventwar_town_war_tokens% - Displays the number of tokens a player's town has.</li>
					<li>%eventwar_riot_token_cost% - Displays how many tokens a riot costs.</li>
					<li>%eventwar_townwar_token_cost% - Displays how many tokens a townwar costs.</li>
					<li>%eventwar_civilwar_token_cost% - Displays how many tokens a civilwar costs.</li>
					<li>%eventwar_independencewar_token_cost% - Displays how many tokens a independencewar costs.</li>
					<li>%eventwar_nationwar_token_cost% - Displays how many tokens a nationwar costs.</li>
					<li>%eventwar_alliancewar_token_cost% - Displays how many tokens a alliancewar costs.</li>
					<li>%eventwar_worldwar_token_cost% - Displays how many tokens a worldwar costs.</li>
					<li>%eventwar_player_townblock_hp% - Displays the HP of a townblock where the player is stood.</li>
				</ul>
			</div>
			<hr>
			<center><h5>Discord Embeds:</h5></center>
			<div style="padding:20px;">
			When enabled in the warconfig.yml and supplied with your valid URL, EventWar will broadcast the following events to your Discord channel:
			<ul>
				<li>War Declarations</li>
				<li>War Starts</li>
				<li>War Surrenders</li>
				<li>War Ends</li>
				<li>BattleSession Starts</li>
				<li>BattleSession Ends</li>
			</ul>
			</div>
		</div>
	  </div>	
	</div>
	
	
	<div class="twelve column">
		<br><br><br><br><br><hr>
		<p align=center>Website powered by <a href="http://getskeleton.com">Skeleton</a></p>
	</div>
  </div>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
